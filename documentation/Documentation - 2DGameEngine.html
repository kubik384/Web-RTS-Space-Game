<!DOCTYPE html>
<!-- Original author of the page style and layout is tomlacko (source: http://itb-lacko.4fan.cz/2D-Engine/documentation.html) -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Documentation - 2DGameEngine</title>
		
		<style>
			* {
				margin:0px;
				padding:0px;
			}

			html {
				font-family:Roboto, Sans-serif;
			}

			body {
				background-color:#333;
			}

			#header {
				display:block;
				text-align:center;
				position:fixed;
				background-color:#555;
				width:100%;
				height:70px;
				box-shadow:0px 1px 15px rgba(50, 50, 50, 1);
			}

			#title {
				color:#FFF;
				margin-top:18px;
				text-shadow:0px 0px 8px #000;
			}

			#goUp {
				position:absolute;
				bottom:10px;
				right:10px;
				color:#FFF;
				background-color:#777;
				border:4px solid #FFF;
				padding:5px;
			}

			#goUp:hover {
				background-color:#AAA;
			}

			#menu {
				background-color:#BBB;
				width:250px;
				margin-top:80px;
				float:left;
				border-top-right-radius:10px;
				border-bottom-right-radius:10px;
				margin-bottom:10px;
				padding:5px;
			}

			.category {
				font-weight:bold;
				display:block;
				margin-top:10px;
				color:#000;
			}

			.subcategory {
				display:block;
				margin-left:10px;
				color:#333;
			}

			.section {
				background-color:#EEE;
				float:right;
				border-radius:3px;
				margin-top:10px;
				margin-right:10px;
				margin-left:10px;
				display:block;
				width:calc(100% - 290px);
				min-height:20px;
				padding:5px;
			}

			.section:first-child {
				margin-top:80px;
			}

			.section:last-child {
				margin-bottom:10px;
			}

			.subsection {
				display:block;
				margin-left:15px;
				padding-left:8px;
				margin-top:10px;
				margin-bottom:25px;
			}

			.subsection h3 {
				margin-bottom:5px;
				text-decoration:underline;
			}

			li > ul, li > ol {
				padding-left:20px;
			}
		</style>
	</head>
	<body>
		<div id="header">
			<h1 id="title">Documentation - Unfinished_project_219</h1>
		</div>
		<div id="menu">
			<p class="category">Info</p>
			<a href="#about" class="subcategory">About</a>
			
			<p class="category">Server side</p>
			<a href="#socket_io_server" class="subcategory">socket.io endpoints</a>

			<p class="category">Client side</p>
			<a href="#socket_io_client" class="subcategory">socket.io endpoints</a>
		</div>
		<div id="page">
			<div class="section">
				<h2>Information</h2>
				<div class="subsection" id="about">
					<h3>About</h3>
					<p>This is an unfinished documentation of an unfinished project.</p>
				</div>
			</div>
			<div class="section">
				<h2>Server side</h2>
				<div class="subsection" id="socket_io_server">
					<h3>Socket.io endpoints</h3>
					<ul>
						<li><strong>login_player</strong> - String
							<ul>
								<li>Expects unique identifier (token) to connect the socket with a player account. Player username is currently implemented as token, which allows for straight-forward db calls. Sends back starter_datapack to user.</li>
							</ul>
						</li>
						<li><strong>update_resource - JSON</strong>
							<ul>
								<li>Expects in following form: {resource, amount}</li>
							</ul>
						</li>
						<li><strong>upgrade_building - string</strong>
							<ul>
								<li>Expects building's name</li>
							</ul>
						</li>
						<li><strong>disconnect</strong>
							<ul>
								<li>
									Removes the player's token from tokens, meaning even if the browser keeps the cookie (token) or someone steals it, without another log in, the token is useless.
								</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>

			<div class="section">
				<h2>Client side</h2>
				<div class="subsection" id="socket_io_client">
					<h3>Socket.io endpoints</h3>
					<ul>
						<li><strong>Message</strong> - String
							<ul>
								<li>Message is printed in the console using console.log()</li>
							</ul>
						</li>
						<li><strong>Starter_datapack</strong> - JSON
							<ul>
								<li>Expects JSON in following form: {resources: [{resource, amount}, ..], buildings: [{bulding, level}, ..]}</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	
	<script>
		function loaded() {
			if(window.location.hash) setTimeout(function() {document.body.scrollTop-=80;}, 0);
			var elements = document.getElementsByTagName("a"); 
			for(var i=0; i<elements.length; i++){
				if(elements[i].className==="subcategory") { 
					elements[i].onclick = function() { 
						setTimeout(function() {
							document.body.scrollTop-=80;
						}, 0); 
					}
				} 
			}
		}
		if(document.readyState==="complete" || document.readyState==="loaded") loaded();
		else document.addEventListener("DOMContentLoaded", loaded);
	</script>
</body></html>